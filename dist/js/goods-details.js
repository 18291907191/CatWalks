var smallBox=document.getElementById("small-map"),smallImg=Array.from(smallBox.children),bigImg=document.getElementById("big-map"),oLargeImg=document.getElementsByClassName("largeimg")[0],oLargeBox=document.getElementsByClassName("large-box")[0],oShadow=document.getElementById("shadow"),oBigBox=document.getElementById("big-map"),oBox=document.getElementsByClassName("goods-map")[0],oBigs=document.getElementById("bigs"),oLarges=document.getElementById("larges");smallImg.forEach(function(o){o.onmouseover=function(){$(this).addClass("active").siblings().removeClass("active")}});var maxL=0,maxT=0,maxLargeImgL=0,maxLargeImgT=0;oBigBox.onmouseover=function(){oLargeBox.style.display="block",oShadow.style.display="block",maxL=oBigBox.offsetWidth-oShadow.offsetWidth,maxT=oBigBox.offsetHeight-oShadow.offsetHeight,maxLargeImgL=oLargeImg.offsetWidth-oLargeBox.offsetWidth,maxLargeImgT=oLargeImg.offsetHeight-oLargeBox.offsetHeight},oBigBox.onmousemove=function(o){var e=o||window.event,s=e.pageX-oShadow.offsetWidth/2-oBigBox.offsetLeft-oBox.offsetLeft,t=e.pageY-oShadow.offsetHeight/2-oBigBox.offsetTop-oBox.offsetTop;s<0&&(s=0),t<0&&(t=0),maxL<s&&(s=maxL),maxT<t&&(t=maxT),oShadow.style.left=s+"px",oShadow.style.top=t+"px",oLargeImg.style.left=-s*maxLargeImgL/maxL+"px",oLargeImg.style.top=-t*maxLargeImgT/maxT+"px"},oBigBox.onmouseout=function(){oLargeBox.style.display="none",oShadow.style.display="none"};var oAssessment=document.getElementsByClassName("goods-attr-tit")[0],oFixLeft=document.getElementsByClassName("fix-left")[0],oFixRight=document.getElementsByClassName("fix-right")[0],oPJ=document.getElementsByClassName("pingjia")[0],oContList=document.getElementsByClassName("con-list")[0];window.onscroll=function(){var o=document.body.scrollTop||document.documentElement.scrollTop;871<=o?(oAssessment.style.position="fixed",oAssessment.style.top=0):oAssessment.style.position="static",777.7777709960938<=o?(oFixLeft.style.transform="scale(1)",oFixLeft.style.opacity=1,oFixLeft.style.display="block",oFixLeft.style.transition="1s"):(oFixLeft.style.transform="scale(.5)",oFixLeft.style.opacity="0",oFixLeft.style.display="none")},oPJ.onclick=function(){oContList.style.display="none",window.scrollTo(0,870)};for(var oInfo=document.getElementsByClassName("info"),i=0;i<oInfo.length;i++)oInfo[i].onmouseover=function(){$(this).addClass("focus").parent().siblings().children().removeClass("focus")};var oCloser=document.getElementsByClassName("closer")[0];oCloser.onclick=function(){oFixRight.style.display="none"};var oColorInfo=document.getElementsByClassName("color-info");for(i=0;i<oColorInfo.length;i++)oColorInfo[i].onmouseover=function(){$(this).addClass("active-color").siblings().removeClass("active-color")};var oSizeInfo=document.getElementsByClassName("size-info");for(i=0;i<oSizeInfo.length;i++)oSizeInfo[i].onmouseover=function(){$(this).addClass("active-color").siblings().removeClass("active-color")};var oNums=document.getElementById("nums"),oSub=document.getElementById("sub"),oAdd=document.getElementById("add");oSub.onclick=function(){1<oNums.value?oNums.value-=1:oNums.value=1};var nums=1;oAdd.onclick=function(){nums+=1,oNums.value=nums};var oGoodsNum=document.getElementById("goods_num"),oBuyImg=document.getElementById("buyImg"),sGoods=getCookie("goods"),aGoods=sGoods?JSON.parse(sGoods):[];for(i=0;i<aGoods.length;i++){var oGoods=aGoods[i];$(".active").find("img").attr("src",oGoods.url),$("#bigs").attr("src",oGoods.url),$("#buy").click(function(){$("#buyImg").css({display:"block"}),oGoods.num+=parseInt(oNums.value),oGoodsNum.innerHTML=oGoods.num,document.getElementById("num").innerHTML=oGoods.num}),$(function(){var o=document.getElementById("num");oGoodsNum.innerHTML=oGoods.num,o.innerHTML=oGoods.num});var oLi=document.createElement("li");oLi.innerHTML='<a class="goods-img" href=""><img src="'+oGoods.url+'"/></a><p class="goods-pp">'+oGoods.brand+'</p><a class="goods-name" href="">'+oGoods.name+oGoods.id+"</a>";var oHistory=document.getElementsByClassName("history")[0];oHistory.appendChild(oLi);var oA=document.createElement("a"),oB=document.createElement("a"),oC=document.createElement("a"),oGoodsTit=document.getElementsByClassName("goods-data active")[0];oLarges.src=oGoods.url,oA.innerHTML='<img src="'+oGoods.url+'"/>',oB.innerHTML='<img src="'+oGoods.url+'"/>',oC.innerHTML='<img src="'+oGoods.url+'"/>',oGoodsTit.appendChild(oA),document.getElementsByClassName("goods-data")[1].appendChild(oB),document.getElementsByClassName("goods-data")[2].appendChild(oC);var oPositionName=document.getElementById("positionName"),oPName=document.getElementById("p_name");oPositionName.innerHTML=oGoods.name,oPName.innerHTML=oGoods.name;var oBrand=document.getElementById("brand");oBrand.innerHTML=oGoods.brand;var oAssess=document.getElementById("access"),oAccess=document.getElementById("assess");oAccess.innerHTML=oGoods.assess,oAssess.innerHTML=oGoods.assess;var oIdNum=document.getElementsByClassName("idnum")[0];oIdNum.innerHTML="商品编号"+oGoods.id;var oPrice=document.getElementById("price"),oPri=document.getElementById("pri");oPri.innerHTML=oGoods.price,oPrice.innerHTML=oGoods.price,$("title").html(oGoods.tit)}